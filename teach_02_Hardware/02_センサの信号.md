# センサの通信

マイコンも半導体の集積で形作られたコンピューターであり、同じように半導体の集積で作られたセンサとの通信を行い外界や自身の物理状態を把握します。CanSatなど自律制御される機器であればアクチュエーターの制御も、センサの値によって決定されます。  
そのため、本記事ではマイコンにおける情報の基礎について理解することを目標としています。

## 電流と定格

中高で習った通り、電流の正体は導体内を流れる電子の移動です。勢いよく電子が流れていれば電流が大きい、あまり流れていなかったら電流が小さい、といった具合です。そして、電子を流そうとする力の強さが電圧で、原子核が電子の流れを妨げる強さが抵抗に当たります。

![電流の図](https://image.jimcdn.com/app/cms/image/transf/dimension=960x10000:format=png/path/sa07fdcab0410c43c/image/ide395796d174cdba/version/1632534935/image.png)

このオームの法則に出てくる三要素を坂を転がり落ちるビー玉(ここではこれをビー玉系とします)に例えると、以下のように相似関係を表せます。
|電気の要素|ビー玉系の要素|
|:----:|:----:|
|電子|ビー玉|
|電流|ビー玉の勢い|
|電圧|坂の角度(高低差)|
|抵抗|坂の表面粗さ|

電圧が大きいとき、坂の角度は大きく、より大きな力でビー玉を転がそうとします。よって電圧が大きくなれば電流(ビー玉の勢い)は増します。また、坂の表面が荒いとき(抵抗が大きいとき)、坂面の凹凸に邪魔されてビー玉の勢いは衰えます(電流の値が小さくなる)。  
このようにビー玉の勢いは坂の角度と表面の粗さによって決まる従属変数です。  
電子回路においても一般に、電流は電圧・抵抗値を与えることで決まる変数として扱うことが多いです。

さて、電流のイメージを持てたところで導体での話に戻ります。  
電流とはつまるところ「電子の勢い」です。  
「電子が勢いよく流れる=エネルギーが大きい」状態ですので、めちゃくちゃ**発熱**したり、**部品が爆発**する原因になります。

なので、<s>この危険を理解するために一度は部品を燃やしてみましょう</s> 素子を扱う際は電流を流しすぎないように気をつけることが大切です。

![コンデンサー爆破](https://img.youtube.com/vi/25kgoA2gpT0/sddefault.jpg)

このような電流や電圧の上限値は素子ごとに決められており、それぞれ**定格電流 ・ 定格電圧**と言われます。

電子工作においてモーター等のアクチュエータが数100mAや数Aやのオーダーであるのに対し、センサ類の定格電流が数mAや数10mAなので、電流の流しすぎには注意が必要です。

センサを使うときには必ずデータシートを見てから部品選定をし、定格内で使うようにしましょう。  
ただし、モーターなどのアクチュエータは割と丈夫なので定格を超えて使う違法建築はロボコン界隈等では常套手段だったりします←<u>**重要**</u>

## 信号の入力
電気回路において、情報のデータのやり取りは基準電圧 <u>(HIGH, 1, TRUE)</u> か<u>0V (LOW, 0, FALSE)</u> かで判断される**デジタル通信**と、0から基準電圧までの間の値で判断される**アナログ通信**がある。本資料では、デジタル通信に的を絞って資料を作成します。

### グラウンドの共有
電気回路において電位差は相対的なものなので、どこかに基準電圧をとらない限り安定しない電位が発生する可能性があるので、マイナス極を回路全体で共有します。  
ここで共有されるマイナス極を<u>**グラウンド**</u>といい、家電製品であれば建築材を通して地面に、自動車や航空機、人工衛星であれば構造フレーム(導体)に接続されます。


* I2C通信
* UART通信
* SPI通信

## 参考

* https://www.kuwana-kagakugiken.jp/%E9%9B%91%E5%AD%A6%E8%AB%87%E8%A9%B1-%E9%9B%BB%E6%B0%97-%E3%83%A2%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AE%E3%81%AF%E3%81%AA%E3%81%97/%E7%AC%AC1%E7%AB%A0-%E9%9B%BB%E6%B1%A0%E3%81%AE%E3%81%AF%E3%81%AA%E3%81%97-1/1-7-%E9%9B%BB%E6%B5%81%E3%81%A8%E9%9B%BB%E5%9C%A7/
* https://www.youtube.com/watch?v=25kgoA2gpT0
* https://www.seikatsu110.jp/library/electrical/et_short_circuit/22553/